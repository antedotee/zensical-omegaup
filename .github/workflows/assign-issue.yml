name: Handle Issue Assignment

on:
    issue_comment:
        types: [created]

jobs:
    assign-unassign:
        runs-on: ubuntu-latest
        permissions:
            issues: write
            contents: read
        steps:
            - name: Handle /assign and /unassign commands
              uses: ./
              with:
                  # Required: GitHub token for API access
                  github-token: ${{ secrets.GITHUB_TOKEN }}

                  # Optional: Maximum number of concurrent assignees per issue (default: '1')
                  max-concurrent-assignees: "1"

                  # Optional: Number of days after assignment before auto-unassignment (default: '7')
                  # Supports float values for testing: 0.01 (~14 min), 0.1 (2.4 hours), 0.5 (12 hours), etc.
                  auto-unassign-days: "0.01"

                  # Optional: Maximum number of issues a user can have assigned (default: '3')
                  max-assignments-per-user: "1"

                  # Optional: Prevent users from assigning themselves - 'true' or 'false' (default: 'false')
                  prevent-self-assignment: "false"

                  # Optional: Enable automated reminder messages - 'true' or 'false' (default: 'false')
                  enable-reminder-messages: "true"

                  # Optional: Custom message template for reminders. Use {days} and {totalDays} placeholders
                  # (default: '{days}/{totalDays} days remaining')
                  reminder-message-template: "{days}/{totalDays} days remaining"

                  # Optional: Label to add when issue is unassigned (prevents re-assignment) (default: 'unassigned')
                  unassigned-label: "unassigned"

                  # Optional: Comma-separated list of usernames with no assignment limits (default: '')
                  unlimited-users: "maintainer1,maintainer2"

                  # Optional: Message to post when assignment succeeds
                  # Use {username} (will be replaced with @username) and {days} placeholders
                  # (default: 'Assigned to you {username}, make sure to remember the {days} day deadline')
                  assignment-success-message: "Assigned to you {username}, make sure to remember the {days} day deadline"

                  # Optional: Message when user reaches max assignments
                  # (default: 'Max assignment reached, first solve the earlier issues or unassign the issue')
                  max-assignment-reached-message: "Max assignment reached, first solve the earlier issues or unassign the issue"

                  # Optional: Message when trying to assign after unassignment
                  # (default: 'This issue was previously unassigned. Please ask the maintainer to assign you the issue manually')
                  unassign-request-message: "This issue was previously unassigned. Please ask the maintainer to assign you the issue manually"

                  # Optional: Automatically detect assignment requests from comments and issue descriptions - 'true' or 'false' (default: 'false')
                  # When enabled, detects phrases like "I want to work on this", "Please assign me", etc.
                  suggest-assign-automated-comment: "true"
